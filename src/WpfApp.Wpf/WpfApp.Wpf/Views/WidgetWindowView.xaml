<Window x:Class="WpfApp.Wpf.Views.WidgetWindowView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp.Wpf.Views"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        ui:WindowHelper.UseModernWindowStyle="True"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        mc:Ignorable="d"
        Height="100" Width="400"
        Title="Atomic habbits"
        
        WindowStyle="ToolWindow"
        Topmost="True"
        >
 
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Closing">
            <i:InvokeCommandAction Command="{Binding ShowMainWindowCommand}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>

    <!--
    WindowStyle="ToolWindow"
    Title="Widget"         AllowsTransparency="True"
       Background="Transparent"       -->
    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="auto"/>
            <ColumnDefinition Width="50"/>
            <ColumnDefinition Width="auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <local:BubblesAnimationView Grid.RowSpan="2" Grid.ColumnSpan="5"/>

        <Border Background="{Binding CurrentAtomicHabit.CategoryModel.CategoryColor}"  Padding="10 0 0 0" Height="10" Grid.ColumnSpan="5" Opacity="0.8">
            <!--<TextBlock Text="{Binding CurrentAtomicHabit.CategoryModel.CategoryName}" 
                       FontWeight="Light"
                       VerticalAlignment="Center"/>-->
        </Border>
        <StackPanel Orientation="Horizontal" Grid.Row="1" Grid.Column="1">
            <TextBlock Text="Title: " VerticalAlignment="Center" FontWeight="Light"/>
            <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" 
                       TextWrapping="Wrap" Width="250"
                       FontWeight="Bold"
                       FontSize="16"
                       Text="{Binding CurrentAtomicHabit.Title, UpdateSourceTrigger=PropertyChanged}"/>
            
            
        </StackPanel>

        <CheckBox Grid.Column="2" Grid.RowSpan="2" IsChecked="{Binding CurrentAtomicHabit.IsHabitDone, UpdateSourceTrigger=PropertyChanged}" Margin="10 0 0 10">
            <CheckBox.RenderTransform>
                <ScaleTransform ScaleX="1.4" ScaleY="1.4"/>
            </CheckBox.RenderTransform>
        </CheckBox>

        <Button Content=">" Command="{Binding ShowMainWindowCommand}" Width="30" Grid.Column="3" Grid.RowSpan="2" Margin="10"/>
    </Grid>
</Window>
